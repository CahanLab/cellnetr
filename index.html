<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cellnetr by pcahan1</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cellnetr</h1>
        <h2>CellNet: network biology-based computational platform to assess establishment of cell type specific gene regulatory networks in user-provided gene expression profiles</h2>
        <a href="https://github.com/pcahan1/cellnetr" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>
<a name="cellnet-source-code" class="anchor" href="#cellnet-source-code"><span class="octicon octicon-link"></span></a>CellNet: source code</h1>

<p><b>CellNet</b> is a network biology-based computational platform that more accurately assesses the fidelity of cellular engineering than existing methodologies and generates hypotheses for improving cell derivations. CellNet is based on the reconstruction of cell type specific gene regulatory networks (GRNs), which we performed using publicly available microarray data on 21 cell and tissue types from both human and mouse samples. Code to run CellNet locally is available for download on this site. You can also analyze your data through our <a href="http://cellnet.hms.harvard.edu">our servers</a>, where you can also explore predicted transcriptional targets of over 1,200 mouse or human transcriptional regulators.</p>

<p>CellNet was written by Patrick Cahan with input from Hu Li, Samantha Morris, and Edroaldo Lummertz da Rocha.</p>

<p>It is provided under the OSI-approved Artistic License (version 2.0).</p>

<h3>
<a name="release-01----08-14-2014" class="anchor" href="#release-01----08-14-2014"><span class="octicon octicon-link"></span></a>Release 0.1 -- 08-14-2014</h3>

<p>The first version of CellNet is now available. This software a beta release, meaning that it is a work in progress, and new features will be added in the near future. To report a bugs or to discuss this software (but not the web application, please), go to the <a href="https://groups.google.com/forum/#!forum/cellnet_r">CellNet user group</a>.</p>

<h3>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h3>

<p>CellNet was written in <a href="http://www.r-project.org/">R</a>. List prerequisites.</p>

<h3>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>Directions to install locally.</p>

<pre><code>$ cd your_repo_root/repo_name
$ git fetch origin
$ git checkout gh-pages
</code></pre>

<h1>
<a name="setting-up-r-environment-for-cellnet" class="anchor" href="#setting-up-r-environment-for-cellnet"><span class="octicon octicon-link"></span></a>Setting up R environment for CellNet</h1>

<pre><code># Set your library path so that it points to the correct platform and annotation libraries:
.libPaths("~/sample_packages/install_dir")

# load cellnet
library("cellnetr")

# load appropriate gene annotation sources
# mouse
library("org.Mm.eg.db")
# if human 
# library("org.Hs.eg.db")

# load platform annotation
# mouse4302
library("mouse4302cdf");
library("mouse4302.db");

# mogene10
# library("mogene10sttranscriptcluster.db");
# library("mogene10stv1cdf");

# hgu133plus2
# library("hgu133plus2.db");
# library("hgu133plus2cdf");

# hugene10
# library("hugene10sttranscriptcluster.db");
# library("hugene10stv1cdf");

# set up path the CellNet objects containing the classifiers, GRNs, etc
# Edit this so that it points to the path where you saved the CellNet objects 
path_CN_obj&lt;-"~/CellNet/CN_Objects/"; 
# change to reflect your platform
myPlatform&lt;-"mouse4302" 

# name of the column in the sample data table that indicates experimental groups or replicates
# set to "", or "sample_name" if there are no replicates
cName&lt;-"description1"

# target tissue or cell type.
targetCT&lt;-"hspc"
</code></pre>

<h1>
<a name="load-data-and-run-cellnet" class="anchor" href="#load-data-and-run-cellnet"><span class="octicon octicon-link"></span></a>Load data and run CellNet</h1>

<pre><code># Load sample table and fix the data file names 
# replace 'sampleTab.csv' with your sample table name. See [Step 2 here](http://dev.cellnet.hms.harvard.edu/run/) for a description of the sample table format and an example table.
stQuery&lt;-expr_readSampTab("sampleTab.csv");
stQuery&lt;-geo_fixNames(stQuery);

# load and normalize expression data
expQuery&lt;-Norm_cleanPropRaw(stQuery, "mouse4302");

# load right CellNet object
cnObjName&lt;-switch(myPlatform,
                  mouse4302 = paste(path_CN_obj, "cnProc_mouse4302_062414.R",sep=''),
                  mogene10stv1 = paste(path_CN_obj, "cnProc_mogene_062414.R",sep=''),
                  hgu133plus2 = paste(path_CN_obj, "cnProc_Hg1332_062414.R",sep=''),
                  hugene10stv1 = paste(path_CN_obj, "cnProc_Hugene_062414.R",sep=''));

cnProc&lt;-utils_loadObject(cnObjName);

# Run CellNet
tmpAns&lt;-cn_apply(expQuery, stQuery, cnProc, dLevelQuery=cName);

# Score transcription factors
tfScores&lt;-cn_nis_all(tmpAns, cnProc, targetCT);
</code></pre>

<h1>
<a name="visualize-the-results" class="anchor" href="#visualize-the-results"><span class="octicon octicon-link"></span></a>Visualize the results</h1>

<h3>
<a name="classification-heatmap" class="anchor" href="#classification-heatmap"><span class="octicon octicon-link"></span></a>Classification heatmap</h3>

<pre><code>cn_hmClass(tmpAns);
</code></pre>

<p><img src="img%20src=%22images/hmClass.png%22%20alt=%22hi%22%20class=%22inline%22/" alt="classification heatmap"></p>

<h3>
<a name="gene-regulatory-network-status" class="anchor" href="#gene-regulatory-network-status"><span class="octicon octicon-link"></span></a>Gene regulatory network status</h3>

<pre><code># starting cell type (esc)
cn_barplot_grnSing(tmpAns, cnProc, "esc", c("esc"), bOrder=NULL, norm=T);
</code></pre>

<p><img src="img%20src=%22./images/hmClass.png%22" alt="classification heatmap"></p>

<pre><code># target cell type (hspc)
cn_barplot_grnSing(tmpAns, cnProc, "hspc", c("hspc"), bOrder=NULL, norm=T);
</code></pre>

<h3>
<a name="features-to-be-added-in-the-near-future" class="anchor" href="#features-to-be-added-in-the-near-future"><span class="octicon octicon-link"></span></a>Features to be added in the near future</h3>

<ol>
<li>Adding a cell or tissue type</li>
<li>Adding a new platform</li>
<li>Adding a new species</li>
<li>Reconstructing GRNs de novo</li>
<li>Identifying cell and tissue specific sub-networks</li>
</ol>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/pcahan1/cellnetr/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/pcahan1/cellnetr/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/pcahan1/cellnetr"></a> is maintained by <a href="https://github.com/pcahan1">pcahan1</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>