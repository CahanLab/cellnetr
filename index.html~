<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Cellnetr by pcahan1</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Cellnetr</h1>
        <h2>CellNet: network biology-based computational platform to assess establishment of cell type specific gene regulatory networks in user-provided gene expression profiles</h2>
        <a href="https://github.com/pcahan1/cellnetr" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <p><b>CellNet</b> is a network biology-based computational platform that more accurately assesses the fidelity of cellular engineering than existing methodologies and generates hypotheses for improving cell derivations. CellNet is based on the reconstruction of cell type specific gene regulatory networks (GRNs), which we performed using publicly available microarray data on 21 cell and tissue types from both human and mouse samples. Code to run CellNet locally is available for download on this site. You can also analyze your data through our <a href="http://cellnet.hms.harvard.edu">our servers</a>, where you can also explore predicted transcriptional targets of over 1,200 mouse or human transcriptional regulators.</p>

<p>CellNet was written by Patrick Cahan with input from Hu Li, Samantha Morris, and Edroaldo Lummertz da Rocha.</p>

<p>It is provided under the OSI-approved Artistic License (version 2.0).</p>

<h3>
<a name="release-01----08-14-2014" class="anchor" href="#release-01----08-14-2014"><span class="octicon octicon-link"></span></a>Release 0.1 -- 08-14-2014</h3>

<p>The first version of CellNet is now available. This software a beta release, meaning that it is a work in progress, and new features will be added in the near future. To report a bugs or to discuss this software (but not the web application, please), go to the <a href="https://groups.google.com/forum/#!forum/cellnet_r">CellNet user group</a>.</p>

<h3>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h3>

<p>CellNet was written in <a href="http://www.r-project.org/">R</a>.  The following R packages, available through <a href="http://cran.r-project.org/">CRAN</a>, are required:</p>

<ul>
<li>ggplot2</li>
<li>gplots</li>
<li>randomForest</li>
<li>igraph</li>
</ul><p>You can install them packages from within an R session by typing: </p>

<pre><code>&gt; install.packages(c("ggplot2", "gplots", "randomForest", "igraph"))
</code></pre>

<p>You will also need to install the <i>affy</i> package from Bioconductor. You can install it from within an R session by typing:</p>

<pre><code>&gt; source("http://bioconductor.org/biocLite.R") 
&gt; biocLite("affy")
</code></pre>

<p>You will also need to install the following Bioconductor annotation packages. Please note that you must download these particular versions in order for CellNet to run properly:</p>

<ul>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/org.Mm.eg.db_2.8.0.tar.gz">org.Mm.eg.db_2.8.0</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/org.Hs.eg.db_2.8.0.tar.gz">org.Hs.eg.db_2.8.0</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/mouse4302.db_2.8.1.tar.gz">mouse4302.db</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/mouse4302cdf_2.11.0.tar.gz">mouse4302cdf_2.11.0</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/hgu133plus2.db_2.8.0.tar.gz">hgu133plus2.db</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/hgu133plus2cdf_2.11.0.tar.gz">hgu133plus2cdf</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/hugene10sttranscriptcluster.db_8.0.1.tar.gz">hugene10sttranscriptcluster.db_8.0.1</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/hugene10stv1cdf_2.11.0.tar.gz">hugene10stv1cdf</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/mogene10sttranscriptcluster.db_8.0.1.tar.gz">mogene10sttranscriptcluster.db_8.0.1</a></li>
<li><a href="http://bioconductor.org/packages/2.11/data/annotation/src/contrib/mogene10stv1cdf_2.11.0.tar.gz">mogene10stv1cdf</a></li>
</ul><p>We recommend that you install these packages to directory where they will not be overwritten. For example, we install these in the directory ~/sample_packages/install_dir. After you have downloaded these files, you can install them by typing at the shell:</p>

<pre><code>R CMD INSTALL -l ~/sample_packages/install_dir package name
</code></pre>

<h3>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h3>

<p>To install CellNet, download the <a href="http://http://pcahan1.github.io/cellnetr/downloads/cellnetr.0.1.tar.gz">compressed package</a>, then at the shell type:</p>

<pre><code>R CMD INSTALL -l ~/sample_packages/install_dir cellnetr.0.1.tar.gz
</code></pre>

<p>Finally, you need to download <i>CellNet Objects</i>, one per platform, which contain the training data, classifiers, and gene regulatory networks</p>
<ul><li><a href='http://cnobjects.s3-website-us-east-1.amazonaws.com/cellnetr.0.1/cnProc_Hg1332_062414.R'>cnProc_Hg1332_062414.R</a>
<ul><li><a href='http://cnobjects.s3-website-us-east-1.amazonaws.com/cellnetr.0.1/cnProc_mogene_062414.R'>cnProc_mogene_062414.R</a>
<ul><li><a href='http://cnobjects.s3-website-us-east-1.amazonaws.com/cellnetr.0.1/cnProc_Hugene_062414.R'>cnProc_Hugene_062414.R</a>
<ul><li><a href='http://cnobjects.s3-website-us-east-1.amazonaws.com/cellnetr.0.1/cnProc_mouse4302_062414.R'>cnProc_mouse4302_062414.R</a>
</ul>

The directory where you place these files will be referred to as 'path_CN_obj' in the code snippets below.

<h3>
<a name="setting-up-r-environment-for-cellnet" class="anchor" href="#setting-up-r-environment-for-cellnet"><span class="octicon octicon-link"></span></a>Setting up R environment for CellNet</h3>

<pre><code># Set your library path so that it points to the correct platform and annotation libraries:
.libPaths("~/sample_packages/install_dir")

# load cellnet
library("cellnetr")

# load appropriate gene annotation sources
# mouse
library("org.Mm.eg.db")
# if human 
# library("org.Hs.eg.db")

# load platform annotation
# mouse4302
library("mouse4302cdf");
library("mouse4302.db");

# mogene10
# library("mogene10sttranscriptcluster.db");
# library("mogene10stv1cdf");

# hgu133plus2
# library("hgu133plus2.db");
# library("hgu133plus2cdf");

# hugene10
# library("hugene10sttranscriptcluster.db");
# library("hugene10stv1cdf");

# set up path the CellNet objects containing the classifiers, GRNs, etc
# Edit this so that it points to the path where you saved the CellNet objects 
path_CN_obj&lt;-"~/CellNet/CN_Objects/"; 
# change to reflect your platform
myPlatform&lt;-"mouse4302" 

# name of the column in the sample data table that indicates experimental groups or replicates
# set to "", or "sample_name" if there are no replicates
cName&lt;-"description1"

# target tissue or cell type.
targetCT&lt;-"hspc"
</code></pre>

<h3>
<a name="load-data-and-run-cellnet" class="anchor" href="#load-data-and-run-cellnet"><span class="octicon octicon-link"></span></a>Load data and run CellNet</h3>

<pre><code># Load sample table and fix the data file names 
# replace 'sampleTab.csv' with your sample table name. See [Step 2 here](http://dev.cellnet.hms.harvard.edu/run/) for a description of the sample table format and an example table.
stQuery&lt;-expr_readSampTab("sampleTab.csv");
stQuery&lt;-geo_fixNames(stQuery);

# load and normalize expression data
expQuery&lt;-Norm_cleanPropRaw(stQuery, "mouse4302");

# load right CellNet object
cnObjName&lt;-switch(myPlatform,
                  mouse4302 = paste(path_CN_obj, "cnProc_mouse4302_062414.R",sep=''),
                  mogene10stv1 = paste(path_CN_obj, "cnProc_mogene_062414.R",sep=''),
                  hgu133plus2 = paste(path_CN_obj, "cnProc_Hg1332_062414.R",sep=''),
                  hugene10stv1 = paste(path_CN_obj, "cnProc_Hugene_062414.R",sep=''));

cnProc&lt;-utils_loadObject(cnObjName);

# Run CellNet
tmpAns&lt;-cn_apply(expQuery, stQuery, cnProc, dLevelQuery=cName);

# Score transcription factors
tfScores&lt;-cn_nis_all(tmpAns, cnProc, targetCT);
</code></pre>

<h3>
<a name="visualize-the-results" class="anchor" href="#visualize-the-results"><span class="octicon octicon-link"></span></a>Visualize the results</h3>

<pre><code># Classification heatmap
cn_hmClass(tmpAns);
</code></pre>

<p><img src="http://pcahan1.github.io/cellnetr/images/hmClass.png" alt="classification heatmap"></p>

<pre><code># Gene regulatory network status of starting cell type (esc) GRN
cn_barplot_grnSing(tmpAns, cnProc, "esc", c("esc"), bOrder=NULL, norm=T);
</code></pre>

<p><img src="http://pcahan1.github.io/cellnetr/images/grnStatus_esc.png" alt="grn status esc"></p>

<pre><code># Gene regulatory network status of target cell type (hspc) GRN
cn_barplot_grnSing(tmpAns, cnProc, "hspc", c("hspc"), bOrder=NULL, norm=T);
</code></pre>

<p><img src="http://pcahan1.github.io/cellnetr/images/grnStatus_hspc.png" alt="grn status hspc"></p>

<pre><code># Network influence score of HSPC GRN transcriptional regulators.
# factor heatmap
cn_plotnis(tfScores, limit=15);
</code></pre>

<p><img src="http://pcahan1.github.io/cellnetr/images/trScores.png" alt="tr nis scores"></p>

<pre><code># Gene expression in the training data set
mp_rainbowPlot(cnProc[['expTrain']],cnProc[['stTrain']],"Meis1", dLevel="description1")
</code></pre>

<p><img src="http://pcahan1.github.io/cellnetr/images/gexDotPlot.png" alt="gexp"></p>

<h3>
<a name="features-to-be-added-in-the-near-future" class="anchor" href="#features-to-be-added-in-the-near-future"><span class="octicon octicon-link"></span></a>Features to be added in the near future</h3>

<ol>
<li>Adding a cell or tissue type</li>
<li>Adding a new platform</li>
<li>Adding a new species</li>
<li>Reconstructing GRNs de novo</li>
<li>Identifying cell and tissue specific sub-networks</li>
</ol>
        </section>

        <aside id="sidebar">
          <a href="https://github.com/pcahan1/cellnetr/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/pcahan1/cellnetr/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/pcahan1/cellnetr"></a> is maintained by <a href="https://github.com/pcahan1">pcahan1</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

            <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-6702049-3");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>

  </body>
</html>
